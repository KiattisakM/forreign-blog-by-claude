# Implementation Plan: Foreign Stock Blog

**Created:** 2025-10-14 10:48
**Based on Context:** `.mahirolab/state/context.md`

## Overview

สร้าง blog เกี่ยวกับหุ้นต่างประเทศ โดยใช้ React + TypeScript + Tailwind CSS พัฒนาต่อจากโครงสร้างเดิม แต่ปรับให้เหมาะกับการนำเสนอข้อมูลหุ้นและตลาดการเงินต่างประเทศ

### Assumptions (ตามที่สมมติไว้)
- เน้นตลาด US เป็นหลัก (S&P500, NASDAQ, NYSE)
- Blog แบบ content-focused (บทความ/วิเคราะห์/การศึกษา)
- ไม่ต้อง real-time data ในระยะแรก
- มี categorization ตามประเทศ/ตลาด/sector

## Prerequisites

- [x] Git repository initialized
- [x] Mahirolab orchestrator system ready
- [ ] Node.js and pnpm installed
- [ ] Clear previous staged deletions or commit them

## Phase 1: Project Foundation & Data Structure

**Goal:** ตั้งโครงสร้างพื้นฐานและ data models สำหรับหุ้นต่างประเทศ
**Estimated Time:** 2-3 hours

### Tasks

- [ ] **Task 1.1: Reset Repository State**
  - Tool: `git` commands (manual)
  - Reasoning Level: N/A
  - Dependencies: None
  - Actions:
    - ตัดสินใจว่าจะ commit deletions หรือ unstage
    - เริ่มต้นจาก clean state
  - Success Criteria: `git status` สะอาด พร้อมเริ่มงานใหม่

- [ ] **Task 1.2: Setup Project Dependencies**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 1.1
  - Actions:
    - สร้าง package.json พร้อม dependencies
    - ติดตั้ง: React 19, TypeScript, Vite
    - ติดตั้ง: Tailwind CSS (latest version)
    - เพิ่ม: React Router, dayjs (for date handling)
    - เพิ่ม: shadcn/ui components library
    - พิจารณา: recharts หรือ lightweight-charts (สำหรับ charts ในอนาคต)
  - Success Criteria: `pnpm install` สำเร็จ, dependencies ครบ

- [ ] **Task 1.3: Define TypeScript Types for Foreign Stocks**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 1.2
  - Files to create: `src/types/stock.ts`, `src/types/article.ts`
  - Content:
    ```typescript
    // Stock-related types
    - StockMarket (enum: US, EU, ASIA, etc.)
    - Sector (enum: Technology, Finance, Healthcare, etc.)
    - StockInfo (symbol, name, market, sector, currency)
    - StockArticle (extends Article, adds stockInfo)
    ```
  - Success Criteria: TypeScript compiles, types are comprehensive

- [ ] **Task 1.4: Create Mock Data for Foreign Stocks**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 1.3
  - Files to create: `src/data/mockStockArticles.ts`
  - Content:
    - 20-30 sample articles about foreign stocks
    - Cover multiple markets: US (AAPL, GOOGL, TSLA, etc.), EU, ASIA
    - Multiple sectors: Tech, Finance, Energy, Healthcare
    - Rich content: analysis, news, educational pieces
  - Success Criteria: Mock data importable, TypeScript happy

## Phase 2: Core Components & Layout

**Goal:** สร้าง UI components พื้นฐานสำหรับแสดงข้อมูลหุ้น
**Estimated Time:** 3-4 hours

### Tasks

- [ ] **Task 2.1: Setup Tailwind & shadcn/ui Configuration**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 1.2
  - Actions:
    - สร้าง tailwind.config.ts (latest version)
    - Initialize shadcn/ui (`pnpm dlx shadcn@latest init`)
    - กำหนด color scheme เหมาะกับ financial theme (blues, greens for gains, reds for losses)
    - Setup fonts (Inter, Roboto Mono for numbers)
    - Configure shadcn/ui components path and styling
  - Success Criteria: Tailwind + shadcn/ui พร้อมใช้งาน, theme น่าใช้

- [ ] **Task 2.2: Install shadcn/ui Base Components**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 2.1
  - Actions:
    - Install commonly needed shadcn/ui components: button, card, badge, input, select, separator, sheet (for mobile drawer)
    - Example: `pnpm dlx shadcn@latest add button card badge input select separator sheet`
  - Success Criteria: shadcn/ui components installed and ready to use

- [ ] **Task 2.3: Create Layout Components with shadcn/ui**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 2.2
  - Files to create:
    - `src/components/layout/Header.tsx` - Logo, navigation, search bar (use shadcn Input)
    - `src/components/layout/Footer.tsx` - Copyright, links, disclaimer
    - `src/components/layout/Sidebar.tsx` - Market filters, sector filters (use shadcn Select, Separator)
    - `src/components/layout/MainLayout.tsx` - Wrapper
  - Success Criteria: Layout responsive, clean design, uses shadcn/ui components

- [ ] **Task 2.4: Create Stock Article Card Component**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 1.3, Task 2.3
  - File: `src/components/StockArticleCard.tsx`
  - Features:
    - Use shadcn/ui Card component as base
    - Display: stock symbol, company name, market flag
    - Show: article title, excerpt, publish date (format with dayjs)
    - Visual: sector badge, market indicator (use shadcn Badge)
    - Interactive: hover effects, click to detail
  - Success Criteria: Card reusable, visually appealing, uses shadcn/ui

- [ ] **Task 2.5: Create Stock Info Badge Components**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 1.3, Task 2.2
  - Files:
    - `src/components/MarketBadge.tsx` - Shows market (US/EU/ASIA) using shadcn Badge
    - `src/components/SectorBadge.tsx` - Shows sector with color coding using shadcn Badge
  - Success Criteria: Badges clear, color-coded, responsive, use shadcn/ui

## Phase 3: Pages & Routing

**Goal:** สร้างหน้าต่างๆ และ routing system
**Estimated Time:** 3-4 hours

### Tasks

- [ ] **Task 3.1: Setup React Router**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 1.2
  - Files: `src/main.tsx`, `src/App.tsx`
  - Routes:
    - `/` - Home page
    - `/articles` - Article list with filters
    - `/articles/:id` - Article detail
    - `/markets/:market` - Filter by market
    - `/sectors/:sector` - Filter by sector
    - `/about` - About page
  - Success Criteria: Routing functional, clean URLs

- [ ] **Task 3.2: Create Home Page**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 2.4, Task 3.1
  - File: `src/pages/HomePage.tsx`
  - Content:
    - Hero section: Blog title, tagline about foreign stocks
    - Featured articles section (latest 3-4 articles) - use StockArticleCard
    - Market overview cards (US, EU, ASIA summaries) - use shadcn Card
    - Call-to-action: Browse all articles (use shadcn Button)
  - Success Criteria: Engaging landing page with shadcn/ui components

- [ ] **Task 3.3: Create Article List Page**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 2.4, Task 3.1
  - File: `src/pages/ArticleListPage.tsx`
  - Features:
    - Grid/list view of articles (use StockArticleCard)
    - Filter by market, sector, date (use shadcn Select)
    - Search functionality (use shadcn Input)
    - Pagination or infinite scroll
    - Sort options (newest, most relevant) (use shadcn Select)
  - Success Criteria: Functional filters, good UX, shadcn/ui components

- [ ] **Task 3.4: Create Article Detail Page**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 1.3, Task 3.1, Task 2.5
  - File: `src/pages/ArticleDetailPage.tsx`
  - Features:
    - Full article content (markdown support?)
    - Stock info sidebar: symbol, name, market, sector (use shadcn Card and Badges)
    - Related articles section (use StockArticleCard)
    - Share buttons (optional) (use shadcn Button)
    - Back to list navigation (use shadcn Button)
    - Date formatting with dayjs
  - Success Criteria: Clean reading experience with shadcn/ui

- [ ] **Task 3.5: Create Market & Sector Filter Pages**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 3.3
  - Files:
    - `src/pages/MarketPage.tsx`
    - `src/pages/SectorPage.tsx`
  - Content: Reuse ArticleListPage logic with pre-filtered data
  - Success Criteria: Filters work correctly

- [ ] **Task 3.6: Create About Page**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 3.1
  - File: `src/pages/AboutPage.tsx`
  - Content:
    - Blog purpose and mission
    - Disclaimer (not financial advice)
    - Contact/social links
  - Success Criteria: Informative, professional

## Phase 4: Features & Interactivity

**Goal:** เพิ่มฟีเจอร์ขั้นสูงและ interactivity
**Estimated Time:** 2-3 hours

### Tasks

- [ ] **Task 4.1: Implement Search Functionality**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 3.3
  - Features:
    - Search across: article titles, stock symbols, company names, content
    - Real-time filtering (as user types)
    - Highlight search terms
  - Success Criteria: Fast, accurate search

- [ ] **Task 4.2: Add Filter Sidebar Logic**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: Task 2.2, Task 3.3
  - Features:
    - Multi-select filters (market + sector)
    - Date range filter
    - Clear filters button
    - Filter state in URL params
  - Success Criteria: Filters composable, URL shareable

- [ ] **Task 4.3: Implement Dark Mode Toggle**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Task 2.1
  - Features:
    - Toggle in header (use shadcn Button or custom toggle)
    - Persist preference (localStorage)
    - Smooth transition
    - Financial-friendly dark theme (shadcn/ui supports dark mode out of the box)
    - Use Tailwind's dark: prefix for custom styling
  - Success Criteria: Dark mode functional, looks good, works with shadcn/ui

- [ ] **Task 4.4: Add Responsive Behavior**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: All Phase 2-3 tasks
  - Actions:
    - Test on mobile, tablet, desktop
    - Adjust sidebar (use shadcn Sheet component for mobile drawer)
    - Optimize card layouts with Tailwind responsive classes
    - Ensure touch-friendly
  - Success Criteria: Fully responsive across devices with shadcn Sheet for mobile

## Phase 5: Polish & Optimization

**Goal:** ทำให้โปรเจกต์พร้อม deploy
**Estimated Time:** 2-3 hours

### Tasks

- [ ] **Task 5.1: Add Loading States**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: All pages
  - Features:
    - Skeleton loaders for cards (use shadcn Skeleton component if needed, or install: `pnpm dlx shadcn@latest add skeleton`)
    - Loading spinners where appropriate
    - Error boundaries
  - Success Criteria: Smooth loading UX with shadcn/ui

- [ ] **Task 5.2: Optimize Performance**
  - Tool: `codex-exec.sh` (medium)
  - Reasoning Level: medium
  - Dependencies: All components
  - Actions:
    - Lazy load pages (React.lazy)
    - Memoize expensive components
    - Optimize images
    - Code splitting
  - Success Criteria: Fast page loads, smooth interactions

- [ ] **Task 5.3: Add SEO Meta Tags**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: All pages
  - Features:
    - Page titles
    - Meta descriptions
    - Open Graph tags
    - Favicon
  - Success Criteria: Good SEO basics

- [ ] **Task 5.4: Write README & Documentation**
  - Tool: `codex-exec.sh` (low)
  - Reasoning Level: low
  - Dependencies: Project complete
  - Files: `README.md`
  - Content:
    - Project overview
    - Setup instructions
    - Features list
    - Tech stack
    - Future enhancements
  - Success Criteria: Clear documentation

- [ ] **Task 5.5: Testing & Bug Fixes**
  - Tool: Manual testing + `codex-exec.sh` (medium) for fixes
  - Reasoning Level: medium
  - Dependencies: All features complete
  - Actions:
    - Test all routes
    - Test all filters
    - Test responsive behavior
    - Fix any bugs found
  - Success Criteria: No critical bugs, smooth experience

## Phase 6: Future Enhancements (Post-MVP)

**Goal:** ฟีเจอร์ขั้นสูงสำหรับอนาคต (ไม่รวมใน plan นี้)
**Note:** ทำหลังจาก MVP พร้อมแล้ว

### Potential Features
- Real-time stock price display (via API)
- Interactive charts (candlestick, line charts)
- Stock comparison tool
- User authentication & saved articles
- Watchlist feature
- Email newsletter subscription
- Comments system
- Admin dashboard for content management
- Integration with financial data APIs (Alpha Vantage, Yahoo Finance, etc.)

## Risks & Mitigations

### Risk 1: Mock data might not be realistic enough
- **Mitigation:** Research real foreign stock articles, use actual stock symbols, realistic scenarios

### Risk 2: Design might not feel professional for financial content
- **Mitigation:** Study existing financial blogs (Seeking Alpha, Bloomberg, etc.), use professional color schemes

### Risk 3: Scope creep (wanting to add too many features)
- **Mitigation:** Stick to MVP plan, add advanced features in Phase 6 only

### Risk 4: Performance issues with large article lists
- **Mitigation:** Implement pagination early, optimize with React.memo

## Success Criteria

- [ ] Blog fully functional with all core pages
- [ ] At least 20-30 sample articles about foreign stocks
- [ ] Filters work correctly (market, sector, search)
- [ ] Responsive design works on mobile/tablet/desktop
- [ ] Professional appearance suitable for financial content
- [ ] Clean, maintainable code with TypeScript
- [ ] Good performance (fast page loads)
- [ ] Ready for deployment

## Rollback Plan

If major issues arise:
1. Commit working state at end of each phase
2. Use git tags for stable versions
3. Can rollback to any phase if needed
4. Keep old blog version in separate branch (for reference)

## Tech Stack Summary

- **Package Manager:** pnpm
- **Frontend:** React 19 + TypeScript
- **Build Tool:** Vite
- **Styling:** Tailwind CSS (latest version)
- **Component Library:** shadcn/ui
- **Routing:** React Router v6
- **Icons:** lucide-react (included with shadcn/ui)
- **Date Handling:** dayjs
- **Charts (Future):** recharts or lightweight-charts
- **Data (Current):** Mock data in TypeScript files

## Execution Strategy

- Execute phases **sequentially** (Phase 1 → Phase 2 → ... → Phase 5)
- Within each phase, tasks can sometimes run in **parallel** if independent
- After each phase, **review and test** before proceeding
- Update this plan with actual results and learning
- Use `codex-worker-launcher.sh` for long-running tasks (medium/high reasoning)
- Use `codex-exec.sh` for quick tasks (low reasoning)

---

**Ready to execute?** Run `gogogo` to start Phase 1.

**Need adjustments?** User can provide feedback on any phase/task.

**Questions?** User can clarify requirements before execution.
